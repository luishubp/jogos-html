<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>FNAF: Ultimate Mobile Edition</title>
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
<style>
/* ==== CSS ORIGINAL (SEM ALTERA√á√ïES) ==== */
body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: 'VT323', monospace;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}
#screen-container {
    position: relative;
    width: 1000px;
    height: 600px;
    background: #0a0a0a;
    border: 10px solid #333;
    overflow: hidden;
    box-shadow: inset 0 0 100px #000;
}
#office {
    position: absolute;
    inset: 0;
    background: url('imagens/office.jpg') center/cover no-repeat;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.door {
    position: absolute;
    top: 0;
    width: 120px;
    height: 100%;
    background: #222;
    z-index: 50;
    transition: 0.2s ease-in;
    border: 4px solid #111;
}
#door-L { left: 0; transform: translateY(-100%); }
#door-R { right: 0; transform: translateY(-100%); }
.closed { transform: translateY(0) !important; }
.light-effect {
    position: absolute;
    top: 0;
    width: 300px;
    height: 100%;
    opacity: 0;
    pointer-events: none;
    z-index: 40;
}
#light-L { left: 0; background: linear-gradient(to right, rgba(255,255,200,0.2), transparent); }
#light-R { right: 0; background: linear-gradient(to left, rgba(255,255,200,0.2), transparent); }
.side-panel {
    position: absolute;
    top: 35%;
    display: flex;
    flex-direction: column;
    gap: 15px;
    z-index: 100;
    padding: 10px;
    background: #222;
    border: 2px solid #444;
}
.btn {
    width: 60px;
    height: 40px;
    cursor: pointer;
    background: #000;
    color: #fff;
    border: 2px solid #fff;
    font-family: 'VT323';
}
#camera-monitor {
    position: absolute;
    inset: 0;
    background: #000;
    z-index: 500;
    display: none;
}
#cam-view {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
}
#cam-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: brightness(0.4) sepia(0.2) hue-rotate(100deg);
}
#static {
    position: absolute;
    inset: 0;
    background: url('https://media.giphy.com/media/oEI9uWUuW9nNe/giphy.gif');
    opacity: 0.15;
    pointer-events: none;
}
#animatronic-visual {
    position: absolute;
    font-size: 150px;
    display: none;
}
#map {
    position: absolute;
    bottom: 20px;
    right: 20px;
    width: 250px;
    height: 200px;
    background: rgba(0,0,0,0.9);
    border: 2px solid #fff;
    z-index: 600;
}
.cam-btn {
    position: absolute;
    width: 40px;
    height: 25px;
    background: #333;
    border: 1px solid #fff;
    color: #fff;
    font-size: 12px;
    cursor: pointer;
    text-align: center;
}
.cam-btn.active { background: #0f0; color: #000; }
#jumpscare-overlay {
    position: fixed;
    inset: 0;
    background: #000;
    z-index: 9999;
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    animation: shake 0.1s infinite;
}
@keyframes shake {
    0% { transform: translate(5px,5px); }
    50% { transform: translate(-5px,-5px); }
    100% { transform: translate(5px,5px); }
}
#ui {
    position: absolute;
    bottom: 20px;
    left: 20px;
    z-index: 1000;
    font-size: 24px;
}
#monitor-trigger {
    position: absolute;
    bottom: 0;
    left: 30%;
    width: 40%;
    height: 40px;
    background: rgba(255,255,255,0.1);
    border-top: 2px solid #fff;
    z-index: 1100;
    cursor: pointer;
    text-align: center;
    line-height: 40px;
}
#clock-container {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 28px;
}
#menu {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.9);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}
.menu-btn {
    margin: 10px;
    padding: 15px 40px;
    font-size: 24px;
    cursor: pointer;
    background: #111;
    border: 2px solid #fff;
    color: #fff;
}
</style>
</head>

<body>
<div id="screen-container">
<div id="office"></div>

<div id="camera-monitor">
    <div id="cam-view">
        <img id="cam-image">
        <div id="animatronic-visual"></div>
        <div id="static"></div>
    </div>
</div>

<div id="ui">POWER: <span id="pwr-val">100</span>%</div>
<div id="monitor-trigger" onclick="game.toggleMonitor()">MONITOR</div>

<div id="clock-container">
    <div id="clock">12:00 AM</div>
    <div id="night">night 1</div>
</div>

<div id="menu">
    <button id="new-game" class="menu-btn">New Game</button>
    <button id="continue-game" class="menu-btn">Continue</button>
</div>

<div id="jumpscare-overlay">
    <div id="scare-char" style="font-size:300px;">üêª</div>
    <h1 style="color:red;">IT'S ME</h1>
</div>
</div>

<script>
class FNAF {
constructor() {
    const saved = JSON.parse(localStorage.getItem('fnafSave'));
    this.pwr = saved?.pwr ?? 100;
    this.cam = saved?.cam ?? '1A';
    this.hour = saved?.hour ?? 12;
    this.nightNum = saved?.nightNum ?? 1;

    this.entities = {
        Bonnie:{pos:'1A'},
        Chica:{pos:'1A'},
        Freddy:{pos:'1A'}
    };

    this.setupMenu();
    this.updateClockUI();
}

start() {
    this.clearTimers();

    this.energyInterval = setInterval(()=>{
        this.pwr -= 0.1;
        if(this.pwr<=0) this.jumpscare('Freddy');
        document.getElementById('pwr-val').innerText = Math.floor(this.pwr);
        this.save();
    },1000);

    this.clockInterval = setInterval(()=>{
        this.hour++;
        if(this.hour>12) this.hour=1;
        this.updateClockUI();
    },45000);
}

clearTimers(){
    clearInterval(this.energyInterval);
    clearInterval(this.clockInterval);
}

setupMenu(){
    document.getElementById('new-game').onclick=()=>{
        localStorage.removeItem('fnafSave');
        this.reset();
        document.getElementById('menu').style.display='none';
        this.start();
    };
    document.getElementById('continue-game').onclick=()=>{
        document.getElementById('menu').style.display='none';
        this.start();
    };
}

reset(){
    this.pwr=100;
    this.cam='1A';
    this.hour=12;
    for(let e in this.entities) this.entities[e].pos='1A';
}

updateClockUI(){
    document.getElementById('clock').innerText = `${this.hour}:00 AM`;
    document.getElementById('night').innerText = `night ${this.nightNum}`;
}

toggleMonitor(){
    const m=document.getElementById('camera-monitor');
    m.style.display = m.style.display==='block'?'none':'block';
}

jumpscare(who){
    this.clearTimers();
    localStorage.removeItem('fnafSave');
    document.getElementById('jumpscare-overlay').style.display='flex';
    setTimeout(()=>location.reload(),2000);
}

save(){
    localStorage.setItem('fnafSave',JSON.stringify({
        pwr:this.pwr,
        cam:this.cam,
        hour:this.hour,
        nightNum:this.nightNum
    }));
}
}

const game = new FNAF();
</script>
</body>
</html>
