<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>FNAF: Security Breach JS</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        body { margin: 0; background: #050505; color: #fff; font-family: 'VT323', monospace; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        
        /* CONTAINER CENTRALIZADO (O MONITOR) */
        #monitor-frame { 
            position: relative; width: 1000px; height: 600px; 
            background: #000; border: 15px solid #222; border-radius: 10px;
            box-shadow: 0 0 50px #000, inset 0 0 100px #111;
            overflow: hidden; 
        }

        /* SALA DE SEGURAN√áA (OFFICE) */
        #office { position: absolute; inset: 0; background: url('https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=1000&q=80') center/cover; z-index: 10; filter: brightness(0.3); transition: filter 0.2s; }
        .light-on { filter: brightness(1) !important; }

        /* PORTAS */
        .door { position: absolute; top: 0; width: 100px; height: 100%; background: #1a1a1a; z-index: 50; transition: transform 0.3s ease-in; border: 2px solid #333; }
        #door-left { left: 0; transform: translateY(-100%); }
        #door-right { right: 0; transform: translateY(-100%); }
        .closed { transform: translateY(0) !important; }

        /* BOT√ïES LATERAIS */
        .panel { position: absolute; top: 40%; z-index: 100; display: flex; flex-direction: column; gap: 10px; background: #222; padding: 10px; border: 2px solid #444; }
        .left-p { left: 110px; }
        .right-p { right: 110px; }
        .btn { padding: 10px; cursor: pointer; border: 2px solid #fff; font-family: 'VT323'; background: #000; color: #fff; width: 60px; }
        .btn-door:active { background: #f00; }

        /* SISTEMA DE C√ÇMERAS */
        #camera-screen { position: absolute; inset: 0; background: #000; display: none; z-index: 500; }
        #cam-render { width: 100%; height: 100%; object-fit: cover; opacity: 0.6; }
        #static-fx { position: absolute; inset: 0; background: url('https://media.giphy.com/media/oEI9uWUuW9nNe/giphy.gif'); opacity: 0.1; pointer-events: none; }
        
        /* MAPA DAS C√ÇMERAS */
        #map { position: absolute; bottom: 20px; right: 20px; width: 280px; height: 230px; background: rgba(0,0,0,0.8); border: 2px solid #fff; z-index: 600; padding: 5px; }
        .cam-node { position: absolute; padding: 5px 10px; background: #333; border: 1px solid #fff; cursor: pointer; font-size: 14px; }
        .cam-node.active { background: #fff; color: #000; }

        /* AMBIENTE */
        #ui-layer { position: absolute; bottom: 20px; left: 20px; z-index: 1000; pointer-events: none; }
        #btn-monitor { position: absolute; bottom: 0; left: 25%; width: 50%; height: 30px; background: rgba(255,255,255,0.1); border: 1px solid #fff; color: #fff; cursor: pointer; text-align: center; z-index: 1100; }
        #jumpscare { position: fixed; inset: 0; background: #000; z-index: 9999; display: none; align-items: center; justify-content: center; flex-direction: column; }
    </style>
</head>
<body>

<div id="monitor-frame">
    <div id="office">
        <div id="enemy-left" style="position:absolute; left:20px; top:30%; font-size:100px; display:none;">üëÅÔ∏è</div>
        <div id="enemy-right" style="position:absolute; right:20px; top:30%; font-size:100px; display:none;">üëÅÔ∏è</div>
    </div>

    <div id="door-left" class="door"></div>
    <div id="door-right" class="door"></div>

    <div class="panel left-p">
        <button class="btn" onclick="game.toggleDoor('left')">DOOR</button>
        <button class="btn" onclick="game.toggleLight('left')">LIGHT</button>
    </div>
    <div class="panel right-p">
        <button class="btn" onclick="game.toggleDoor('right')">DOOR</button>
        <button class="btn" onclick="game.toggleLight('right')">LIGHT</button>
    </div>

    <div id="camera-screen">
        <div id="static-fx"></div>
        <img id="cam-render" src="" alt="Camera Feed">
        <div id="map">
            <div class="cam-node active" style="top:10px; left:100px;" onclick="game.setCam('1A', 0)">1A</div>
            <div class="cam-node" style="top:50px; left:90px;" onclick="game.setCam('1B', 1)">1B</div>
            <div class="cam-node" style="top:100px; left:20px;" onclick="game.setCam('1C', 2)">1C</div>
            <div class="cam-node" style="top:40px; left:20px;" onclick="game.setCam('5', 3)">5</div>
            <div class="cam-node" style="top:50px; right:20px;" onclick="game.setCam('7', 4)">7</div>
            <div class="cam-node" style="bottom:60px; left:60px;" onclick="game.setCam('2A', 5)">2A</div>
            <div class="cam-node" style="bottom:20px; left:60px;" onclick="game.setCam('2B', 6)">2B</div>
            <div class="cam-node" style="bottom:60px; right:60px;" onclick="game.setCam('4A', 7)">4A</div>
            <div class="cam-node" style="bottom:20px; right:60px;" onclick="game.setCam('4B', 8)">4B</div>
        </div>
    </div>

    <div id="ui-layer">
        <div style="font-size: 30px;">POWER: <span id="pwr-val">100</span>%</div>
        <div id="usage">Usage: <span id="usage-val">1</span></div>
    </div>

    <div id="btn-monitor" onmouseover="game.toggleMonitor()">MONITOR</div>
</div>

<div id="jumpscare">
    <div style="font-size: 200px;">üíÄ</div>
    <h1>GAME OVER</h1>
    <button onclick="location.reload()" style="padding:10px; background:#fff; cursor:pointer;">REENTRAR</button>
</div>

<script>
    const camImages = {
        '1A': 'https://images.unsplash.com/photo-1519074063912-ad25b5ce49e0?w=800&q=80', // Stage
        '1B': 'https://images.unsplash.com/photo-1505664194779-8beaceb93744?w=800&q=80', // Dining
        '1C': 'https://images.unsplash.com/photo-1494438639946-1ebd1d20bf85?w=800&q=80', // Pirate Cove
        '5': 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=800&q=80',  // Parts
        '7': 'https://images.unsplash.com/photo-1511289081-d06eda4c64e5?w=800&q=80',  // Restrooms
        '2A': 'https://images.unsplash.com/photo-1509248961158-e54f6934749c?w=800&q=80', // Hall L
        '2B': 'https://images.unsplash.com/photo-1470114716159-e389f8712ad4?w=800&q=80', // Corner L
        '4A': 'https://images.unsplash.com/photo-1517430816045-df4b7de11d1d?w=800&q=80', // Hall R
        '4B': 'https://images.unsplash.com/photo-1519074063912-ad25b5ce49e0?w=800&q=80'  // Corner R
    };

    class Engine {
        constructor() {
            this.power = 100;
            this.monOpen = false;
            this.currentCam = '1A';
            this.doors = { left: false, right: false };
            this.lights = { left: false, right: false };
            this.foxyStage = 0; // 0=Escondido, 1=Saindo, 2=Correndo
            
            this.ai = {
                'Bonnie': { pos: '1A', path: ['1A','1B','5','2A','2B','OFFICE'] },
                'Chica': { pos: '1A', path: ['1A','1B','7','4A','4B','OFFICE'] }
            };

            this.init();
        }

        init() {
            document.getElementById('cam-render').src = camImages['1A'];
            setInterval(() => this.updatePower(), 2000);
            setInterval(() => this.moveAI(), 4500);
        }

        updatePower() {
            let usage = 1;
            if (this.doors.left) usage++;
            if (this.doors.right) usage++;
            if (this.lights.left || this.lights.right) usage++;
            if (this.monOpen) usage++;
            
            this.power -= (usage * 0.2);
            document.getElementById('pwr-val').innerText = Math.floor(this.power);
            document.getElementById('usage-val').innerText = usage;

            if (this.power <= 0) this.triggerScare();
        }

        toggleDoor(side) {
            this.doors[side] = !this.doors[side];
            document.getElementById(`door-${side}`).classList.toggle('closed', this.doors[side]);
        }

        toggleLight(side) {
            this.lights[side] = !this.lights[side];
            document.getElementById('office').classList.toggle('light-on', this.lights[side]);
            this.checkAtDoor();
        }

        checkAtDoor() {
            document.getElementById('enemy-left').style.display = (this.lights.left && this.ai.Bonnie.pos === 'OFFICE') ? 'block' : 'none';
            document.getElementById('enemy-right').style.display = (this.lights.right && this.ai.Chica.pos === 'OFFICE') ? 'block' : 'none';
        }

        toggleMonitor() {
            this.monOpen = !this.monOpen;
            document.getElementById('camera-screen').style.display = this.monOpen ? 'block' : 'none';
        }

        setCam(id, index) {
            this.currentCam = id;
            document.getElementById('cam-render').src = camImages[id];
            document.querySelectorAll('.cam-node').forEach(n => n.classList.remove('active'));
            document.querySelectorAll('.cam-node')[index].classList.add('active');
        }

        moveAI() {
            // L√≥gica Foxy (Habilidade √önica)
            if (Math.random() > 0.7) {
                this.foxyStage++;
                if (this.foxyStage > 3) {
                    if (!this.doors.left) this.triggerScare();
                    else this.foxyStage = 0;
                }
            }

            // L√≥gica Bonnie e Chica
            for (let name in this.ai) {
                let char = this.ai[name];
                if (Math.random() > 0.5) {
                    let nextIdx = char.path.indexOf(char.pos) + 1;
                    if (nextIdx < char.path.length) {
                        char.pos = char.path[nextIdx];
                    }
                }
                
                // Atacar OFFICE
                if (char.pos === 'OFFICE') {
                    const door = (name === 'Bonnie') ? 'left' : 'right';
                    if (!this.doors[door] && Math.random() > 0.8) this.triggerScare();
                }
            }
        }

        triggerScare() {
            document.getElementById('jumpscare').style.display = 'flex';
        }
    }

    const game = new Engine();
</script>
</body>
                </html>
