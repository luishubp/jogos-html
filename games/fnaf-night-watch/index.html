<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FNAF Remastered Mobile</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        :root { --p: #88ff88; --freddy: #4d2600; --bonnie: #4b0082; --chica: #ffd700; --foxy: #b22222; }
        body { margin: 0; background: #000; color: #fff; font-family: 'VT323', monospace; overflow: hidden; touch-action: none; }
        
        #game-container { position: relative; width: 100vw; height: 100vh; background: #000; display: flex; flex-direction: column; }

        /* --- ESCRITÓRIO (OFFICE) --- */
        #office { position: relative; width: 100%; height: 60%; background: linear-gradient(to bottom, #1a1a1a, #0a0a0a); border-bottom: 5px solid #222; overflow: hidden; }
        
        /* Paredes e Portas Visuais */
        .wall { position: absolute; width: 20%; height: 100%; background: #111; z-index: 5; border: 2px solid #222; }
        .wall-left { left: 0; } .wall-right { right: 0; }
        
        .visual-door { position: absolute; top: -100%; width: 18%; height: 100%; background: #333; z-index: 10; transition: top 0.3s cubic-bezier(0.4, 0, 0.2, 1); border: 3px solid #000; box-shadow: inset 0 0 20px #000; }
        .door-L { left: 1%; } .door-R { right: 1%; }
        .door-closed { top: 0 !important; }

        /* Luzes */
        .light-hit { position: absolute; width: 20%; height: 100%; opacity: 0; z-index: 8; pointer-events: none; }
        #light-hit-L { left: 0; background: rgba(255, 255, 200, 0.4); }
        #light-hit-R { right: 0; background: rgba(255, 255, 200, 0.4); }

        /* Painéis de Controle (Afastados para não bugar) */
        .ctrl-group { position: absolute; top: 20%; display: flex; flex-direction: column; gap: 15px; z-index: 100; }
        .group-L { left: 22%; } .group-R { right: 22%; }
        .btn { width: 50px; height: 50px; border-radius: 5px; border: 3px solid #000; font-family: 'VT323'; cursor: pointer; color: #fff; font-size: 12px; }
        .btn-d { background: #500; } .btn-l { background: #550; }
        .btn-active-d { background: #f00 !important; box-shadow: 0 0 10px #f00; }
        .btn-active-l { background: #ff0 !important; color: #000 !important; }

        /* --- MONITOR E MAPA --- */
        #monitor { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #050505; display: none; z-index: 500; }
        #cam-screen { width: 100%; height: 60%; position: relative; border-bottom: 2px solid var(--p); overflow: hidden; }
        .static { position: absolute; width: 100%; height: 100%; background: url('https://media.giphy.com/media/oEI9uWUicKgR6/giphy.gif'); opacity: 0.1; }
        
        #map-area { width: 100%; height: 40%; display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; padding: 10px; box-sizing: border-box; background: #000; }
        .cam-btn { background: #020; border: 1px solid var(--p); color: var(--p); font-family: 'VT323'; font-size: 14px; }
        .cam-btn.active { background: var(--p); color: #000; }

        /* --- JUMPSCARE --- */
        #jumpscare-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 2000; display: none; justify-content: center; align-items: center; flex-direction: column; }
        #scare-box { width: 250px; height: 250px; border-radius: 50%; animation: shake 0.1s infinite; }
        @keyframes shake { 0% { transform: translate(5px, 5px); } 50% { transform: translate(-5px, -5px); } 100% { transform: translate(5px, -5px); } }

        /* Interface */
        #monitor-toggle { width: 100%; height: 50px; background: #111; border: 2px solid #fff; color: #fff; font-family: 'VT323'; font-size: 20px; cursor: pointer; }
        .stats { padding: 10px; display: flex; justify-content: space-between; font-size: 20px; color: var(--p); }
    </style>
</head>
<body>

<div id="game-container">
    <div class="stats">
        <div>ENERGIA: <span id="pwr">100</span>%</div>
        <div><span id="time">12</span> AM</div>
    </div>

    <div id="office">
        <div id="light-hit-L" class="light-hit"></div>
        <div id="light-hit-R" class="light-hit"></div>
        
        <div id="v-door-L" class="visual-door door-L"></div>
        <div id="v-door-R" class="visual-door door-R"></div>
        
        <div class="wall wall-left"></div>
        <div class="wall wall-right"></div>

        <div class="ctrl-group group-L">
            <button class="btn btn-d" onclick="game.toggleDoor('L')">DOOR</button>
            <button class="btn btn-l" onmousedown="game.setLight('L',true)" onmouseup="game.setLight('L',false)" ontouchstart="game.setLight('L',true)" ontouchend="game.setLight('L',false)">LIGHT</button>
        </div>

        <div class="ctrl-group group-R">
            <button class="btn btn-d" onclick="game.toggleDoor('R')">DOOR</button>
            <button class="btn btn-l" onmousedown="game.setLight('R',true)" onmouseup="game.setLight('R',false)" ontouchstart="game.setLight('R',true)" ontouchend="game.setLight('R',false)">LIGHT</button>
        </div>

        <div id="monster-at-door" style="position:absolute; bottom:10%; width:100px; height:150px; z-index:7; display:none; filter:blur(5px);"></div>
    </div>

    <button id="monitor-toggle" onclick="game.toggleMonitor()">ABRIR MONITOR</button>

    <div id="monitor">
        <div id="cam-screen">
            <div class="static"></div>
            <div id="cam-label" style="padding:10px; color:var(--p);">CAM 1A - PALCO</div>
            <div id="monster-dot" style="position:absolute; width:60px; height:60px; border-radius:50%; filter:blur(10px); display:none;"></div>
        </div>
        <div id="map-area">
            <button class="cam-btn" onclick="game.switchCam('1A', 'PALCO')">1A</button>
            <button class="cam-btn" onclick="game.switchCam('1B', 'JANTAR')">1B</button>
            <button class="cam-btn" onclick="game.switchCam('1C', 'COVA')">1C</button>
            <button class="cam-btn" onclick="game.switchCam('2A', 'CORR. E')">2A</button>
            <button class="cam-btn" onclick="game.switchCam('2B', 'CANTO E')">2B</button>
            <button class="cam-btn" onclick="game.switchCam('3', 'COZINHA')">3</button>
            <button class="cam-btn" onclick="game.switchCam('4A', 'CORR. D')">4A</button>
            <button class="cam-btn" onclick="game.switchCam('4B', 'CANTO D')">4B</button>
            <button class="cam-btn" onclick="game.switchCam('5', 'SERVIÇO')">5</button>
            <button class="cam-btn" onclick="game.switchCam('YOU', 'VOCÊ')">YOU</button>
        </div>
    </div>
</div>

<div id="jumpscare-overlay">
    <div id="scare-box"></div>
    <h1 id="scare-name" style="color:red; font-size:40px;">FREDDY</h1>
</div>

<script>
class FNAFGame {
    constructor() {
        this.pwr = 100; this.hr = 0; this.isOpen = false; this.curCam = '1A';
        this.doors = {L:false, R:false};
        this.monsters = {
            'Freddy': {pos:'1A', color:'#4d2600', path:['1A','1B','4A','4B','DoorR']},
            'Bonnie': {pos:'1A', color:'#4b0082', path:['1A','5','2A','2B','DoorL']},
            'Chica':  {pos:'1A', color:'#ffd700', path:['1A','1B','4A','4B','DoorR']},
            'Foxy':   {pos:'1C', color:'#b22222', path:['1C','2A','DoorL']}
        };
        this.init();
    }

    init() {
        setInterval(() => this.tick(), 1000);
        setInterval(() => this.moveAI(), 5000);
        setInterval(() => { 
            this.hr++; 
            document.getElementById('time').innerText = this.hr;
            if(this.hr>=6) { alert("6 AM - VENCEU!"); location.reload(); }
        }, 60000);
    }

    tick() {
        let u = 0.15;
        if(this.doors.L) u+=0.5; if(this.doors.R) u+=0.5; if(this.isOpen) u+=0.3;
        this.pwr -= u;
        document.getElementById('pwr').innerText = Math.max(0, Math.floor(this.pwr));
        if(this.pwr <= 0) location.reload();
    }

    toggleDoor(s) {
        this.doors[s] = !this.doors[s];
        document.getElementById('v-door-'+s).classList.toggle('door-closed', this.doors[s]);
        event.target.classList.toggle('btn-active-d', this.doors[s]);
    }

    setLight(s, on) {
        document.getElementById('light-hit-'+s).style.opacity = on ? 1 : 0;
        event.target.classList.toggle('btn-active-l', on);
        this.checkLight(s, on);
    }

    checkLight(s, on) {
        const mAtDoor = document.getElementById('monster-at-door');
        mAtDoor.style.display = 'none';
        if(on) {
            for(let n in this.monsters) {
                if(this.monsters[n].pos === 'Door'+s) {
                    mAtDoor.style.display = 'block';
                    mAtDoor.style.background = this.monsters[n].color;
                    mAtDoor.style.left = s === 'L' ? '5%' : '80%';
                }
            }
        }
    }

    toggleMonitor() {
        this.isOpen = !this.isOpen;
        document.getElementById('monitor').style.display = this.isOpen ? 'block' : 'none';
        if(this.isOpen) this.updateCam();
    }

    switchCam(id, label) {
        this.curCam = id;
        document.getElementById('cam-label').innerText = "CAM " + id + " - " + label;
        this.updateCam();
    }

    updateCam() {
        const dot = document.getElementById('monster-dot');
        dot.style.display = 'none';
        for(let n in this.monsters) {
            if(this.monsters[n].pos === this.curCam) {
                dot.style.display = 'block';
                dot.style.background = this.monsters[n].color;
            }
        }
    }

    moveAI() {
        for(let n in this.monsters) {
            let m = this.monsters[n];
            if(Math.random() > 0.6) {
                let idx = m.path.indexOf(m.pos);
                if(m.pos.startsWith('Door')) {
                    let s = m.pos.endsWith('L') ? 'L' : 'R';
                    if(!this.doors[s]) this.jumpscare(n, m.color);
                    else m.pos = '1A';
                } else if(idx < m.path.length-1) {
                    m.pos = m.path[idx+1];
                }
            }
        }
        if(this.isOpen) this.updateCam();
    }

    jumpscare(name, color) {
        const overlay = document.getElementById('jumpscare-overlay');
        const box = document.getElementById('scare-box');
        document.getElementById('scare-name').innerText = name.toUpperCase();
        box.style.background = color;
        overlay.style.display = 'flex';
        setTimeout(() => location.reload(), 3000);
    }
}
const game = new FNAFGame();
</script>
</body>
</html>

