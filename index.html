<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>üéÆ Site Comunit√°rio de Jogos HTML</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #0f1724;
      color: #e6eef6;
      text-align: center;
      padding: 40px;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 30px;
    }

    .game-list {
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
    }

    .game-card {
      width: 90%;
      max-width: 380px;
      padding: 20px;
      background: #0b1220;
      border: 1px solid #1e2940;
      border-radius: 12px;
    }

    .game-title {
      font-size: 20px;
      margin-bottom: 12px;
    }

    .game-card a {
      display: block;
      padding: 12px;
      background: #14b8a6;
      color: #012;
      text-decoration: none;
      font-weight: bold;
      border-radius: 8px;
      transition: 0.2s;
    }

    .game-card a:hover {
      background: #0fa28e;
    }
  </style>
</head>
<body>

  <h1>üéÆ Site Comunit√°rio de Jogos HTML</h1>
  <p>Escolha um jogo abaixo:</p>

  <div class="game-list">

    <!-- JOGO 1 -->
    <div class="game-card">
      <div class="game-title">üöÄ Alien Space Wars</div>
      <a href="games/alien-space-wars/">Jogar</a>
    </div>

    <!-- JOGO 2 (exemplo) -->
    <!--
    <div class="game-card">
      <div class="game-title">üëÅÔ∏è Night Watch</div>
      <a href="games/night-watch/">Jogar</a>
    </div>
    -->

  </div>

</body>
</html>    // Player (nave cyborg)
    ctx.fillStyle = '#0f0';
    ctx.fillRect(player.x, player.y, player.w, player.h);
    ctx.fillStyle = '#fff';
    ctx.fillRect(player.x + 5, player.y + 5, 10, 5); // Cockpit

    // Bullets
    ctx.fillStyle = '#ff0';
    bullets.forEach(b => ctx.fillRect(b.x, b.y, b.w, b.h));

    // Aliens (verdes xenomorfos)
    ctx.fillStyle = '#f00';
    aliens.forEach(a => {
        ctx.fillRect(a.x, a.y, a.w, a.h);
        ctx.fillStyle = '#fff';
        ctx.fillRect(a.x + 10, a.y + 5, 5, 5); // Olho
        ctx.fillStyle = '#f00';
    });

    // Particles
    particles.forEach(p => {
        ctx.fillStyle = `rgba(255, ${Math.floor(255 * p.life / 20)}, 0, ${p.life / 20})`;
        ctx.fillRect(p.x, p.y, 3, 3);
    });

    // UI
    ctx.fillStyle = '#fff';
    ctx.font = '20px Arial';
    ctx.fillText(`Score: ${score}`, 10, 30);
    ctx.fillText(`HP: ${player.hp}`, 10, 60);
    if (player.hp <= 0) {
        ctx.fillStyle = '#f00';
        ctx.fillText('GAME OVER! Reload pra jogar de novo', 200, 300);
    }
}

function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>        this.hour = 0;
        this.isGameOver = false;
        this.monitorOpen = false;
        this.currentCam = '1A';
        
        this.doors = { left: false, right: false };
        this.lights = { left: false, right: false };
        
        // IA e Posicionamento (0: Palco, 1: Corredor, 2: Porta, 3: Office)
        this.enemies = {
            'Freddy': { pos: '1A', difficulty: 1 },
            'Bonnie': { pos: '1A', difficulty: 3 },
            'Chica': { pos: '1A', difficulty: 2 },
            'Foxy': { pos: '3', difficulty: 1, stage: 0 } // Foxy usa est√°gio em vez de pos
        };

        this.init();
    }

    init() {
        // Ciclo de Energia (cada 1s reduz baseado no uso)
        setInterval(() => this.updatePower(), 1000);
        // Ciclo de Tempo (cada 60s muda a hora)
        setInterval(() => this.updateClock(), 45000);
        // Ciclo de IA (cada 5s tenta mover)
        setInterval(() => this.updateAI(), 5000);
        
        this.render();
    }

    updatePower() {
        if (this.isGameOver) return;

        let usage = 0.1; // Consumo passivo
        if (this.doors.left) usage += 0.4;
        if (this.doors.right) usage += 0.4;
        if (this.lights.left || this.lights.right) usage += 0.2;
        if (this.monitorOpen) usage += 0.3;

        this.power -= usage;
        if (this.power <= 0) {
            this.power = 0;
            this.blackout();
        }
        document.getElementById('power-usage').innerText = Math.floor(this.power);
    }

    updateClock() {
        if (this.isGameOver) return;
        this.hour++;
        if (this.hour >= 6) this.winNight();
        document.getElementById('clock').innerText = this.hour + " AM";
    }

    toggleDoor(side) {
        if (this.power <= 0) return;
        this.doors[side] = !this.doors[side];
        document.getElementById(`btn-${side}-door`).style.background = this.doors[side] ? "#090" : "#900";
    }

    setLight(side, state) {
        if (this.power <= 0) return;
        this.lights[side] = state;
        const office = document.getElementById('office-view');
        if (state) {
            office.style.background = "#fff";
            office.innerText = this.checkDoorForEnemy(side) ? "H√Å ALGO NA PORTA!" : "CORREDOR VAZIO";
        } else {
            office.style.background = "transparent";
            office.innerText = "SALA DE SEGURAN√áA";
        }
    }

    toggleMonitor() {
        if (this.power <= 0) return;
        this.monitorOpen = !this.monitorOpen;
        document.getElementById('camera-tablet').style.display = this.monitorOpen ? 'block' : 'none';
    }

    switchCam(camId) {
        this.currentCam = camId;
        document.getElementById('cam-name').innerText = "CAM " + camId;
        document.querySelectorAll('.cam-btn').forEach(b => b.classList.remove('active-cam'));
        // Atualiza visual da c√¢mera baseado na posi√ß√£o dos inimigos
        this.updateCamDisplay();
    }

    updateAI() {
        if (this.isGameOver || this.power <= 0) return;

        // L√≥gica Simplificada do Bonnie (Lado Esquerdo)
        if (Math.random() * 20 < this.enemies.Bonnie.difficulty + this.night) {
            this.moveEnemy('Bonnie', ['1A', '1B', '2A', 'DoorL', 'Office']);
        }
    }

    moveEnemy(name, path) {
        let currentIdx = path.indexOf(this.enemies[name].pos);
        if (currentIdx < path.length - 1) {
            let nextPos = path[currentIdx + 1];
            
            // Se tentar entrar na sala
            if (nextPos === 'Office') {
                if (this.doors.left) {
                    this.enemies[name].pos = '1B'; // Volta pro corredor
                } else {
                    this.triggerJumpscare();
                }
            } else {
                this.enemies[name].pos = nextPos;
            }
        }
    }

    checkDoorForEnemy(side) {
        if (side === 'left') return this.enemies.Bonnie.pos === 'DoorL';
        return false;
    }

    updateCamDisplay() {
        let content = "√ÅREA VAZIA";
        for (let name in this.enemies) {
            if (this.enemies[name].pos === this.currentCam) {
                content = "MOVIMENTO DETECTADO: " + name;
            }
        }
        document.getElementById('cam-content').innerText = content;
    }

    blackout() {
        this.isGameOver = true;
        document.getElementById('office').style.display = 'none';
        document.getElementById('camera-tablet').style.display = 'none';
        setTimeout(() => this.triggerJumpscare(), 5000);
    }

    triggerJumpscare() {
        if (this.isGameOver && this.power > 0) return;
        this.isGameOver = true;
        document.getElementById('jumpscare').style.display = 'flex';
        setTimeout(() => location.reload(), 3000);
    }

    winNight() {
        alert("6 AM - VOC√ä SOBREVIVEU √Ä NOITE " + this.night);
        this.night++;
        this.power = 100;
        this.hour = 0;
        location.reload();
    }

    render() {
        // Mouse look effect
        window.addEventListener('mousemove', (e) => {
            if (!this.monitorOpen) {
                let move = (e.clientX / window.innerWidth - 0.5) * 40;
                document.getElementById('office').style.transform = `translateX(${-move}px)`;
            }
        });
    }
}

const game = new FNAFGame();
</script>

</body>
</html>

